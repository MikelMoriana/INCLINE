---
title: "INCLINE Readme"
# author: "Joseph Gaudard"
# date: "1/14/2022"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("data_doc/INCLINE_data-dictionnary.R")

# cflux <- read_csv("data_cleaned/INCLINE_c-flux_2020.csv", col_types = "cddddddfffcTfd")
# ndvi <- read_csv("data_cleaned/INCLINE_NDVI_2019_2020_2021.csv", col_types = "fdDffffcc")
# biomass_removal <- read_csv("data_cleaned/INCLINE_biomass_removal.csv", col_types = "dDfDfDfffcffd")
# demography_Sib_pro <- read_csv("data_cleaned/INCLINE_demography_Sib_pro.csv", col_types = "fffdDfffcffddfffd")
# demography_Ver_alp <- read_csv("data_cleaned/INCLINE_demography_Ver_alp.csv", col_types = "fffdDfffcffddfffd")
# seedling_traits_alpine <- read_csv("data_cleaned/INCLINE_seedling_traits_alpine.csv", col_types = "ffffffcfDDcfffcfd")
# seedling_data_alpine <- read_csv("data_cleaned/INCLINE_seedling_data_alpine.csv", col_types = "cffffffffDfddfdddddc")
# seedling_data_subalpine <- read_csv("data_cleaned/INCLINE_seedling_data_subalpine.csv", col_types = "ffffffcfdddfddDf")
# seedbank_survival <- read_csv("data_cleaned/INCLINE_seedbank_survival.csv", col_types = "fffffcDDfcc")
# seeds_per_capsule <- read_csv("data_cleaned/INCLINE_seeds_per_capsule.csv", col_types = "ffDccfdcd")
# species_level_biomass_allocation <- read_csv("data_cleaned/INCLINE_species_level_biomass_allocation.csv", col_types = "fffDcfffffcccfd")
# flowering <- read_csv("data_cleaned/INCLINE_flowering.csv", col_types = "fffffffDDDffcffd")
# INCLINE_metadata <- read_csv2("data_cleaned/INCLINE_metadata.csv")
# microclimate_air_temperature <- read_csv("data_cleaned/INCLINE_microclimate_air_temperature.csv", col_types = "Tcffffcd")
# microclimate_soil_temperature <- read_csv("data_cleaned/INCLINE_microclimate_soil_temperature.csv", col_types = "Tcffffcd")
# microclimate_ground_temperature <- read_csv("data_cleaned/INCLINE_microclimate_ground_temperature.csv", col_types = "Tcffffcd")
# microclimate_soil_moisture <- read_csv("data_cleaned/INCLINE_microclimate_soil_moisture.csv", col_types = "Tcffffcd")
# 
ndvi <- ndvi %>%
  # mutate(a = substr(siteID, 1, 3),
  #        b = substr(plotID, 4, 7)) %>%
  # mutate(plotID = paste0(a, b))  %>%
  # select(-a, -b) %>%
  left_join((INCLINE_metadata %>% select(plotID, OTC, treatment)), by = "plotID")

```

# Introduction

# Method

## Sites

## Design

## Treatments

# Data management

## Location

## Naming convention

## Data collection

**Ecosystem fluxes** Net ecosystem exchange (NEE) and ecosystem respiration (ER) were measured on the field while gross ecosystem production (GEP) is calculated as GEP = NEE - ER.
Carbon fluxes are measured with a closed loop chamber system connected to an infrared gaz analyser (INGRA; Li-840A, Li-cor).
The plexiglas chamber (25x35x40 cm) is connected to the INGRA with plastic tubes (inlet and outlet, 3m long and 4mm diameter each).
A filter prevents water droplets and small particules from entering the INGRA and an air pump ensures a constant flow of 1L/mn.
The chamber is equiped with a fan to mix the air, a thermocouple (Pt1000, Delta-T) to measure air temperature and a PAR sensor.
In 2020 the air temperature was measured with an iButton.
Airtightness is ensured by laying a heavy chain on the "skirt" of the chamber (a piece of tarp taped to the lower part of the chamber).
NEE is measured with a transparent chamber.
ER is measured with a dark chamber, in our case the transparent chamber was covered with a thick dark tarp.
The CO~2~ concentration was measured every seconds and logged in a datalogger (Squirrel 2010).
The chamber was put on the plot during three (two in 2020) minutes for each measurements and then aired during one minute.
Since the logger was logging continuesly, the start and end time of each measurement was noted (it is necessary to precisely synchronise the logger clock with the watch used on the field and to regularly check it).
The function `match.flux()` is matching the time in the logger file with the plot being measured at that time (using the time recorded on the field).
It attributes the concentration of CO~2~ measured every seconds to the correct measurement.
A linear regression is fitted to every measurements and the slope is used to calculated the flux.
<!-- This is the code to keep in case we want to extract a pdf -->
<!-- $$ -->
<!--  \text{flux}=\text{slope}\times \frac{P\times V}{R\times T\times A} -->
<!-- $$ -->
<!-- - flux: the flux of CO~2~ at the surface of the plot ($mmol/m^2/h$) -->
<!-- - slope: slope of linear regression fitting the CO~2~ concentration versus time ($ppm^{-1}$) -->
<!-- - $P$: pressure, assumed 1 atm -->
<!-- - $V$: volume of the chamber and tubing ($L$) -->
<!-- - $R$: gas constant ($0.082057\ L*atm*K^{-1}*mol^{-1}$) -->
<!-- - $T$: chamber air temperature ($K$) -->
<!-- - $A$: area of chamber frame base ($m^2$) -->

<img src="https://render.githubusercontent.com/render/math?math=flux=slope\times \frac{P\times V}{R\times T\times A}">

Where:

- flux: the flux of CO~2~ at the surface of the plot (mmol/m^2^/h)
- slope: slope of linear regression fitting the CO~2~ concentration versus time (ppm^-1^)
- P: pressure, assumed 1 atm
- V: volume of the chamber and tubing (L)
- R: gas constant (0.082057 L\*atm\*K^-1^\*mol^-1^)
- T: chamber air temperature (K)
- A: area of chamber frame base (m^2^)

## Data dictionnaries

### Biomass removal (dataset i)

This dataset contains the biomass removed per experimental plot and functional group per year (the cleaned dataset can be accessed from here: link).
From  40 experimental plots across four sites we removed a total of `r sum(biomass_removal$value, na.rm = TRUE)` g biomass over the project period; `r sum((biomass_removal %>% filter(functional_group == "Graminoid") %>% select(value)), na.rm = TRUE)` g graminoids, `r sum((biomass_removal %>% filter(functional_group == "Bryophyte") %>% select(value)), na.rm = TRUE)` g bryophytes, `r sum((biomass_removal %>% filter(functional_group == "Forb") %>% select(value)), na.rm = TRUE)` g forbs, but the most biomass came from litter with as much as `r sum((biomass_removal %>% filter(functional_group == "Litter") %>% select(value)), na.rm = TRUE)` g. Biomass removed decreased over time, `r sum((biomass_removal %>% filter(year == 2019) %>% select(value)), na.rm = TRUE)` g in 2019, `r sum((biomass_removal %>% filter(year == 2020) %>% select(value)), na.rm = TRUE)` g in 2020, and `r sum((biomass_removal %>% filter(year == 2021) %>% select(value)), na.rm = TRUE)` g in 2021, suggesting that the removal treatment did cause a decline in returning biomass every year.

Table 5: 
```{r, echo=FALSE}
knitr::kable(biomass_removal_dic)
```

### Vascular plant community composition (dataset ii)

These data will be completed with a final data collection over the summer of 2022, and will be added to this data descriptor once the dataset is complete.

### Population dynamics of alpine focal species (dataset iii)

These datasets contains demographic data on two species.
Over the period from 2018-2021 we followed `r length(unique(demography_Sib_pro$uniqueID))` individuals of Sibbaldia procumbens, and `r length(unique(demography_Ver_alp$uniqueID))` individuals of Veronica alpina.
For Sibbaldia procumbens we counted the number of leaves, and measured the leaf stalk length and the length of the largest leafs middle leaflet.
The average individual had `r demography_Sib_pro %>% filter(demographic_trait == "number_of_leaves") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` leaves, with a `r demography_Sib_pro %>% filter(demographic_trait == "leaf_stalk_length") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` mm long leaf stalk, and a `r demography_Sib_pro %>% filter(demographic_trait == "leaf_length") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` mm long middle leaflet.
If an individual produced flowers it produced on average `r demography_Sib_pro %>% filter(demographic_trait %in% c("number_of_flowers", "number_of_buds", "number of capsules")) %>% group_by(uniqueID) %>% mutate(total_reproductive = sum(demographic_value)) %>% ungroup() %>%  mutate(mean = mean(total_reproductive)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` flowers.
For Veronica alpina we counted the number of leaves, and measured the shoot height of from the groud to the top of the individual, and the length and width of the largest leaf.
The average individual was `r demography_Ver_alp %>% filter(demographic_trait == "shoot_height") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` mm tall, and had `r demography_Ver_alp %>% filter(demographic_trait == "number_of_leaves") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` leaves,  and the leaves were on average `r demography_Ver_alp %>% filter(demographic_trait == "leaf_length") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` mm long and `r demography_Ver_alp %>% filter(demographic_trait == "leaf_width") %>% mutate(mean = mean(demographic_value)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` mm wide.
If an individual produced flowers it produced on average `r demography_Ver_alp %>% filter(demographic_trait %in% c("number_of_flowers", "number_of_buds", "number of capsules")) %>% group_by(uniqueID) %>% mutate(total_reproductive = sum(demographic_value)) %>% ungroup() %>%  mutate(mean = mean(total_reproductive)) %>% select(mean) %>% unique() %>% as.numeric() %>% round(digits = 0)` flowers.

For an overview over the clean datasets see Table 6 (Sibbaldia procumbens) and Table 7 (Veronica alpina).
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_read_cleandata.R.
To build population models this dataset needs to be combined with dataset iv) species-level biomass allocation to calculate an estimate of the link between the size traits measured non destructively in the field in this dataset (iii) with the actual biomass (dataset iv).
For further information about how to combine the dataset to make build a population model see the data usage section.

Table 6: Data dictionaries for the INCLINE demographic dataset for Sibbaldia procumbens (dataset iii). 
```{r, echo=FALSE}
knitr::kable(demography_Sib_pro_dic)
```
Table 7: Data dictionaries for the INCLINE demographic dataset for Veronica alpina (dataset iii). 
```{r, echo=FALSE}
knitr::kable(demography_Ver_alp_dic)
```


### Species-level biomass allocation (dataset iv)

The species level biomass allocation dataset consist of destructively harvested biomass from the six forb species in the INCLINE experiments.
Of the two alpine species we sampled `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Sib_pro") %>% select(n) %>% as.numeric()` Sibbaldia procumbens individuals, and `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Ver_alp") %>% select(n) %>% as.numeric()` Veronica alpina individuals, of the extant traits sub-alpine species we sampled `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Ver_off") %>% select(n) %>% as.numeric()` Veronica officinalis individuals, and `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Vio_can") %>% select(n) %>% as.numeric()` Viola canina individuals, and of the novel traits sub-alpine species we sampled `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Suc_pra") %>% select(n) %>% as.numeric()` Succisa pratensis individuals, and `r species_level_biomass_allocation %>% select(species, uniqueID) %>% unique() %>% count(species) %>% filter(species == "Hyp_mac") %>% select(n) %>% as.numeric()` Hypericum maculatum individuals.

The average aboveground biomass for each species was `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Sib_pro") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Sib_pro") %>% select(sd) %>% as.numeric()` g for Sibbaldia procumbens, `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Ver_alp") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Ver_alp") %>% select(sd) %>% as.numeric()` g for Veronica alpina, `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Ver_off") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Ver_off") %>% select(sd) %>% as.numeric()` g for Veronica officinalis, `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Vio_can") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Vio_can") %>% select(sd) %>% as.numeric()` g for Viola canina, `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Suc_pra") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Suc_pra") %>% select(sd) %>% as.numeric()` g for Succisa pratensis, and `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Hypericum maculatum") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "aboveground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Hyp_mac") %>% select(sd) %>% as.numeric()` g for Hypericum maculatum. The average belowground biomass for each species was `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Sib_pro") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Sib_pro") %>% select(sd) %>% as.numeric()` g for Sibbaldia procumbens, `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Ver_alp") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Ver_alp") %>% select(sd) %>% as.numeric()` g for Veronica alpina, `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Ver_off") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Ver_off") %>% select(sd) %>% as.numeric()` g for Veronica officinalis, `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Vio_can") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Vio_can") %>% select(sd) %>% as.numeric()` g for Viola canina, `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Suc_pra") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Suc_pra") %>% select(sd) %>% as.numeric()` g for Succisa pratensis, and `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(mean = round(mean(value, na.rm = TRUE), digits = 2)) %>% ungroup() %>%  select(species, mean) %>% unique() %>% filter(species == "Hypericum maculatum") %>% select(mean) %>% as.numeric()` ± `r species_level_biomass_allocation %>% filter(trait == "belowground_biomass") %>% select(species, value) %>% group_by(species) %>%  mutate(sd = round(sd(value, na.rm = TRUE), digits = 3)) %>% ungroup() %>%  select(species, sd) %>% unique() %>% filter(species == "Hyp_mac") %>% select(sd) %>% as.numeric()` g for Hypericum maculatum.

Additionally, this dataset contains the same traits as measured in the demography dataset (dataset iii).
This can be used to estimate the biomass based on these size traits through a biomass regression.
This is how this dataset is linked to dataset iii to build a population model.
See data usage notes for further details on how to build a population model based on dataset iii, iv, v, vi and viii.
For an overview over the clean datasets see Table 8.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.


Table 8: Data dictionary for the INCLINE species level biomass allocation (dataset iv).
```{r, echo=FALSE}
knitr::kable(species_level_biomass_allocation_dic)
```


### Seeds per capsule for the alpine focal species (dataset v)

The seeds per capsule dataset consist of counted number of seed per reproductive unit for S. procumbens and V. alpina.
We collected in total 40 individuals of S. procumbens and V.alpina respectively.
On average Sibbaldia procumbens had `r seeds_per_capsule %>% mutate(species = case_when(species == "SIb_pro" ~ "Sib_pro", species == "Sib_pro" ~ "Sib_pro", species == "Ver_alp" ~ "Ver_alp")) %>% select(species, capsuleID, number_of_seeds) %>% unique() %>% group_by(species) %>% mutate(mean = mean(number_of_seeds, na.rm = TRUE)) %>% select(species, mean) %>% unique() %>% ungroup() %>% filter(species == "Sib_pro") %>% select(mean) %>% as.numeric()` seeds per capsule, while Veronica alpina had `r seeds_per_capsule %>% mutate(species = case_when(species == "SIb_pro" ~ "Sib_pro", species == "Sib_pro" ~ "Sib_pro", species == "Ver_alp" ~ "Ver_alp")) %>% select(species, capsuleID, number_of_seeds) %>% unique() %>% group_by(species) %>% mutate(mean = mean(number_of_seeds, na.rm = TRUE)) %>% select(species, mean) %>% unique() %>% ungroup() %>% filter(species == "Ver_alp") %>% select(mean) %>% as.numeric()` seeds per capsule.
This dataset is needed to build a population model in combination with dataset iii, iv, vi and viii.
See data usage notes for further details on how to build a population model base on these datasets.
For an overview over the clean datasets see Table 9.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 9: Data dictionary for the dataset containing information about number of seed per capsule for the INCLINE alpine species (dataset v)
```{r, echo=FALSE}
knitr::kable(seeds_per_capsule_dic)
```

### Germination of alpine focal species (dataset vi)

This dataset contains two parts, one with the germination and survival of Sibbaldia procumbens and Veronica alpina in the field (Table 10), and one with the functional traits of the seedlings after two summers (Table 11).
We registered germination and survival of `r seedling_data_alpine %>% select(species, uniqueID) %>% unique() %>% group_by(species) %>% count() %>% ungroup() %>% filter(species == "Sib_pro") %>%  select(n) %>% as.numeric()` individuals of Sibbaldia procumbens, and `r seedling_data_alpine %>% select(species, uniqueID) %>% unique() %>% group_by(species) %>% count() %>% ungroup() %>% filter(species == "Ver_alp") %>%  select(n) %>% as.numeric()` individuals of Veronica alpina over three campaigns in the summer of 2020, and four campaigns in the summer of 2021.
For some blocks the snow had not melted out in the first campaign in the summer of 2020.
This campaign was called capmaign zero, and these plot were revisited a couple of weeks later in the season, this date was then recorded as the first campaign for these blocks.
The seedlings that survived all the way to the end of the two field season were harvested in September 2021, that was `r seedling_traits_alpine %>% filter(species == "Sib_pro") %>% select(uniqueID) %>% unique() %>% count() %>% as.numeric()` individuals of Sibbaldia procumbens, and `r seedling_traits_alpine %>% filter(species == "Ver_alp") %>% select(uniqueID) %>% unique() %>% count() %>% as.numeric()` for Veronica alpina.
The average above ground biomass of the seedlings were `r seedling_traits_alpine %>% filter(trait == "weight_dry_whole") %>% select(species, values) %>% group_by(species) %>% mutate(mean = mean(values, na.rm = TRUE)) %>% ungroup() %>% filter(species == "Sib_pro") %>%  select(species, mean) %>% unique() %>% select(mean) %>% as.numeric()*1000` ± `r seedling_traits_alpine %>% filter(trait == "weight_dry_whole") %>% select(species, values) %>% group_by(species) %>% mutate(sd = sd(values, na.rm = TRUE)) %>% ungroup() %>% filter(species == "Sib_pro") %>%  select(species, sd) %>% unique() %>% select(sd) %>% as.numeric()*1000` mg for Sibbaldia procumbens, and `r seedling_traits_alpine %>% filter(trait == "weight_dry_whole") %>% select(species, values) %>% group_by(species) %>% mutate(mean = mean(values, na.rm = TRUE)) %>% ungroup() %>% filter(species == "Ver_alp") %>%  select(species, mean) %>% unique() %>% select(mean) %>% as.numeric()*1000` ± `r seedling_traits_alpine %>% filter(trait == "weight_dry_whole") %>% select(species, values) %>% group_by(species) %>% mutate(sd = sd(values, na.rm = TRUE)) %>% ungroup() %>% filter(species == "Ver_alp") %>%  select(species, sd) %>% unique() %>% select(sd) %>% as.numeric()*1000` mg for Veronica alpina.

This dataset is needed to build a population model in combination with dataset iii, iv, v and viii.
See data usage notes for further details on how to build a population model base on these datasets.

For an overview over the clean datasets see Table 10 for the germination and survival data, and Table 11 for the seedling trait data.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 10: Data dictionary for the germination and survival of the alpine focal species (dataset v).
```{r, echo=FALSE}
knitr::kable(seedling_data_alpine_dic)
```

Table 11: Data dictionary for the seedling traits of the alpine focal species
```{r, echo=FALSE}
knitr::kable(seedling_traits_alpine_dic)
```


### Germination of sub-alpine focal species (dataset vi)

This dataset consist of the germination and survival of seedlings of the sub-alpine species in the INCLINE experiment.
In total there were `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Ver_off") %>% select(sum) %>% as.numeric()` Veronica officinalis, `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Vio_can") %>% select(sum) %>% as.numeric()` Viola canina, `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Car_pil") %>% select(sum) %>% as.numeric()` Carex pilulifera, `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Suc_pra") %>% select(sum) %>% as.numeric()` Succisa pratensis, `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Hyp_mac") %>% select(sum) %>% as.numeric()` Hypericum maculatum, and `rseedling_data_subalpine %>% select(species, uniqueID, total_seedlings_emerged) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_emerged, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Car_pal") %>% select(sum) %>% as.numeric()` Carex pallescens that germinated.
Out of these seedlings `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Ver_off") %>% select(sum) %>% as.numeric()` Veronica officinalis, `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Vio_can") %>% select(sum) %>% as.numeric()` Viola canina, `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Car_pil") %>% select(sum) %>% as.numeric()` Carex pilulifera, `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Suc_pra") %>% select(sum) %>% as.numeric()` Succisa pratensis, `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Hyp_mac") %>% select(sum) %>% as.numeric()` Hypericum maculatum, and `r seedling_data_subalpine %>% select(species, uniqueID, total_seedlings_survived) %>% unique() %>% group_by(species) %>% mutate(sum = sum(total_seedlings_survived, na.rm = TRUE)) %>% select(species, sum) %>% unique() %>% ungroup() %>% filter(species == "Car_pal") %>% select(sum) %>% as.numeric()` Carex pallescens survived through the whole growing season.

For an overview over the clean datasets see Table 12.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 12: Data dictionary for the germination and survival of the sub-alpine species of the INCLINE experiment (dataset v).
```{r, echo=FALSE}
knitr::kable(seedling_data_subalpine_dic)
```


### Seed bank survival of alpine focal species (dataset viii)
This dataset consists of survival after one year in the soil seed bank for S. procumbens and V. alpina.
For S. procumbens the average survival rate after one year in the soil seed bank under the ambient alpine climate was `r seedbank_survival %>% group_by(species, warming, plotID) %>% mutate(total = n()) %>% mutate(survival_in_seedbank = case_when(survival_in_seedbank == "1" ~1, survival_in_seedbank == "0" ~ 0)) %>% mutate(bla = sum(survival_in_seedbank)) %>% mutate(prop = bla/total *100) %>% select(species, warming, prop, plotID) %>% unique() %>% group_by(species, warming) %>% mutate(mean = mean(prop)) %>% ungroup() %>%  filter(species == "Sib_pro") %>% filter(warming == "C") %>% select(mean) %>%  unique() %>% as.numeric()` %, and in the warmed climate it was `r seedbank_survival %>% group_by(species, warming, plotID) %>% mutate(total = n()) %>% mutate(survival_in_seedbank = case_when(survival_in_seedbank == "1" ~1, survival_in_seedbank == "0" ~ 0)) %>% mutate(bla = sum(survival_in_seedbank)) %>% mutate(prop = bla/total *100) %>% select(species, warming, prop, plotID) %>% unique() %>% group_by(species, warming) %>% mutate(mean = mean(prop)) %>% ungroup() %>%  filter(species == "Sib_pro") %>% filter(warming == "OTC") %>% select(mean) %>%  unique() %>% as.numeric()` %. For V.alpina the average survival rate after one year in the soil seed bank under the ambient alpine climate was `r seedbank_survival %>% group_by(species, warming, plotID) %>% mutate(total = n()) %>% mutate(survival_in_seedbank = case_when(survival_in_seedbank == "1" ~1, survival_in_seedbank == "0" ~ 0)) %>% mutate(bla = sum(survival_in_seedbank)) %>% mutate(prop = bla/total *100) %>% select(species, warming, prop, plotID) %>% unique() %>% group_by(species, warming) %>% mutate(mean = mean(prop)) %>% ungroup() %>%  filter(species == "Ver_alp") %>% filter(warming == "C") %>% select(mean) %>%  unique() %>% as.numeric()` %, and in the warmed climate it was `r seedbank_survival %>% group_by(species, warming, plotID) %>% mutate(total = n()) %>% mutate(survival_in_seedbank = case_when(survival_in_seedbank == "1" ~1, survival_in_seedbank == "0" ~ 0)) %>% mutate(bla = sum(survival_in_seedbank)) %>% mutate(prop = bla/total *100) %>% select(species, warming, prop, plotID) %>% unique() %>% group_by(species, warming) %>% mutate(mean = mean(prop)) %>% ungroup() %>%  filter(species == "Ver_alp") %>% filter(warming == "OTC") %>% select(mean) %>%  unique() %>% as.numeric()` %.

This dataset is needed to build a population model in combination with dataset iii, iv, v and vi.
See data usage notes for further details on how to build a population model base on these datasets.
For an overview over the clean datasets see Table 13.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 13: Data dictionary for the seed survival in the seed bank over one year in the soil (dataset viii).
```{r, echo=FALSE}
knitr::kable(seedbank_survival_dic)
```

### Flowering of alpine plant community (dataset ix)
This dataset consists of a quantification of flowering of the alpine community in the mabient temperature control, warmed control, and the novel trait transplant in the ambient and warmed climate treatments in the INCLINE experiments.
The data set with measurements of flower production of the flowering alpine plant community was combined with two separate data sets with measurements of number of buds, flowers and capsules for Sibbaldia procumbens and Veronica alpina, respectively.
Data on the number of reproductive organs of these two species was collected as part of the demographic monitoring of S. procumbens and V. alpina (dataset iii), and was therefore not collected in the flowering community data campaign.
Hence, the date of data collection on flower production was not always the same for S. procumbens and V. alpina and the remaining flowering community.
Thus, three different date columns are included in the flowering data set: date_community, date_Sib_pro and date_Ver_alp. Similarly, the registrator varied between the three data-groups. However, in this case all the registrators were combined into one column, separated by “&” for each of the data-groups.
We collected flowering information of `r length(unique(flowering$species))` different species.
We registered the flowers in six different categories; length of inflorescence (`r length(unique((flowering %>% filter(flowering_measurement_type == "Length of inflorescence"))$species))` species) , number of inflorescence units (`r length(unique((flowering %>% filter(flowering_measurement_type == "Number of inflorescence units"))$species))` species), flower counts (`r length(unique((flowering %>% filter(flowering_measurement_type == "Flower count"))$species))` species), number of flowering individuals (`r length(unique((flowering %>% filter(flowering_measurement_type == "Number of flowering individuals"))$species))` species), percent cover (`r length(unique((flowering %>% filter(flowering_measurement_type == "Percent cover"))$species))` species), and finally flower head count (`r length(unique((flowering %>% filter(flowering_measurement_type == "Flower head count"))$species))` species) (see description above in the data collection method section).
The data was collected at the subplot level (see experimental design section).
In each subplot where we recorded flowering the average length of inflorescence was `r round(mean((flowering %>% filter(flowering_measurement_type == "Length of inflorescence"))$flowering_value), digits = 0)` mm, the average number of inflorescence units was `r round(mean((flowering %>% filter(flowering_measurement_type == "Number of inflorescence units"))$flowering_value), digits = 0)`, the average flower count was `r round(mean((flowering %>% filter(flowering_measurement_type == "Flower count"))$flowering_value), digits = 0)`, the average number of flowering individuals was `r round(mean((flowering %>% filter(flowering_measurement_type == "Number of flowering individuals"))$flowering_value), digits = 0)`, the average percent cover of flowers was `r round(mean((flowering %>% filter(flowering_measurement_type == "Percent cover"))$flowering_value), digits = 0)`, and finally the average flower head count was `r round(mean((flowering %>% filter(flowering_measurement_type == "Flower head count"))$flowering_value), digits = 0)`.

For an overview over the clean datasets see Table 14.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 14: Data dictionary for the dataset of flowering in the alpine plant community (dataset ix)
```{r, echo=FALSE}
knitr::kable(flowering_dic)
```


### Reflectance (NDVI) (dataset x)
This dataset consists of `r length(ndvi$NDVI)` measurements of Normalized Difference Vegetation Index (NDVI) over the growing season of 2019, 2020 and 2021.
The average NDVI for the different sites from the wettest to the driest are: `r mean((ndvi %>% filter(siteID == "Skjelingahaugen"))$NDVI, na.rm = TRUE)`, `r mean((ndvi %>% filter(siteID == "Gudmedalen"))$NDVI, na.rm = TRUE)`, `r mean((ndvi %>% filter(siteID == "Lavisdalen"))$NDVI, na.rm = TRUE)`, and `r mean((ndvi %>% filter(siteID == "Ulvhaugen"))$NDVI, na.rm = TRUE)` for Skjellingahaugen, Gudemedalen, Låvisdalen, Ulvehaugen respectively.
Across sites the ambient climate control plots had an NDVI of `r mean((ndvi %>% filter(treatment == "C") %>% filter(OTC == "C"))$NDVI, na.rm = TRUE)` ± `r sd((ndvi %>% filter(treatment == "C") %>% filter(OTC == "C"))$NDVI, na.rm = TRUE)`, while the warmed control plots had an NDVI of `r mean((ndvi %>% filter(treatment == "C") %>% filter(OTC == "W"))$NDVI, na.rm = TRUE)` ± `r sd((ndvi %>% filter(treatment == "C") %>% filter(OTC == "W"))$NDVI, na.rm = TRUE)`.
For an overview over the clean datasets see Table 15.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 15: Data dictionary for the dataset of the Normalized Difference Vegeation Index (NDVI) (dataset x)
```{r, echo=FALSE}
knitr::kable(ndvi_dic)
```


### Ecosystem carbon fluxes (dataset xi)
This dataset consists of `r length((cflux %>% filter(type == "ER"))$flux)` ecosystem respiration (ER) and `r length((cflux %>% filter(type == "NEE"))$flux)` net ecosystem exchange (NEE) measurements from the ambient climate and warmed climate control treatments of the INCLINE experiment.
The remaining  experimental treatments will be measured in the summer of 2022, and the data will be included in the data paper prior to submission.
In addition, the dataset also contains data for light response curves (marked as LRC in the type column and with numbers in the type column - see table 16).
The ecosystem respiration values ranged from `r min((cflux %>% filter(type == "ER"))$flux)` to `r max((cflux %>% filter(type == "ER"))$flux)` µmol mol-1 s-1 CO2, with a mean of `r mean((cflux %>% filter(type == "ER"))$flux)` and a median of  `r median((cflux %>% filter(type == "ER"))$flux)` µmol mol-1 s-1 CO2.
The net ecosystem exchange values ranged from `r min((cflux %>% filter(type == "NEE"))$flux)` to `r max((cflux %>% filter(type == "NEE"))$flux)` µmol mol-1 s-1 CO2 with a mean of `r mean((cflux %>% filter(type == "NEE"))$flux)` and a median of `r median((cflux %>% filter(type == "NEE"))$flux)` µmol mol-1 s-1 CO2. We measured the fluxes within the PAR range of
`r min(cflux$PARavg)` to `r max(cflux$PARavg)` and a mean of `r mean(cflux$PARavg)` and median of `r median(cflux$PARavg)`.
For an overview over the clean datasets see Table 16.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 16: Data dictionary for the dataset of the Carbon flux in (dataset xi). 
```{r cfluxdic, echo=FALSE}
knitr::kable(cflux_dic)
```

### Microclimate data (dataset xii)

This dataset consists of four seperate datasets of i) soil moisture, ii) soil temperature at 6 cm below ground level, iii) temperature in the vegetation at ground level, and iv) air temperature 15 cm above the ground level recorded every 15 minutes by Tomst-loggers (Wild et al. 2019).
The soil moisture data has been transformed to the closest soil properties in the soil categories following the method by Wild et al. (2019).
The microclimate data consists of `r length((microclimate_soil_moisture %>%  filter(!is.na(soil_moisture)))$soil_moisture)` datapoints of soil moisture, `r length((microclimate_soil_temperature %>%  filter(!is.na(soil_temperature)))$soil_temperature)` datapoints of soil temperature, `r length((microclimate_ground_temperature %>% filter(!is.na(ground_temperature)))$ground_temperature)` datapoints of ground temperature,  and `r length((microclimate_air_temperature %>% filter(!is.na(air_temperature)))$air_temperature)` datapoints of air temperature from `r length(unique(microclimate_soil_moisture$loggerID))` loggers.
The soil moisture ranges from  `r min(microclimate_soil_moisture$soil_moisture, na.rm = TRUE)` to `r max(microclimate_soil_moisture$soil_moisture, na.rm = TRUE)`, with a mean that varies with the precipitation of the sites from the wettest sites Skjellingahaugen with a mean of `r mean((microclimate_soil_moisture %>% filter(siteID == "Skjellingahaugen"))$soil_moisture, na.rm = TRUE)` ± `r sd((microclimate_soil_moisture %>% filter(siteID == "Skjellingahaugen"))$soil_moisture, na.rm = TRUE)` and following along the precipitation gradient with `r mean((microclimate_soil_moisture %>% filter(siteID == "Gudmedalen"))$soil_moisture, na.rm = TRUE)` ± `r sd((microclimate_soil_moisture %>% filter(siteID == "Gudmedalen"))$soil_moisture, na.rm = TRUE)`, `r mean((microclimate_soil_moisture %>% filter(siteID == "Lavisdalen"))$soil_moisture, na.rm = TRUE)` ± `r sd((microclimate_soil_moisture %>% filter(siteID == "Lavisdalen"))$soil_moisture, na.rm = TRUE)` , and `r mean((microclimate_soil_moisture %>% filter(siteID == "Ulvehaugen"))$soil_moisture, na.rm = TRUE)` ± `r sd((microclimate_soil_moisture %>% filter(siteID == "Ulvehaugen"))$soil_moisture, na.rm = TRUE)` for Gudmedalen, Låvisdalen and Ulvehaugen respectively.
As for temperature the variation in temperature between day and night increases from the soil temperature via the ground temperature to the air temperature, while the mean stays relatively similar.
The mean soil temperature is `r mean(microclimate_soil_temperature$soil_temperature, na.rm = TRUE)` ± `r sd(microclimate_soil_temperature$soil_temperature, na.rm = TRUE)` °C while the mean ground temperature is `r mean(microclimate_ground_temperature$ground_temperature, na.rm = TRUE)` ± `r sd(microclimate_ground_temperature$ground_temperature, na.rm = TRUE)` °C, and the mean air temperature is `r mean(microclimate_air_temperature$air_temperature, na.rm = TRUE)` °C ± `r sd(microclimate_air_temperature$air_temperature, na.rm = TRUE)` °C. The average difference between the ambient climate and the warmed climate by open top chambers was 0.37 °C in soil temperature, 0.77 °C in the ground temperature, and 0.75 °C in the air temperature, this however varied between day and night (Table 17).

For an overview over the clean datasets see Table 18.
The final cleaned data is provided on the INCLINE OSF, and the code to download the final cleaned data can be found in the INCLINE GitHub repository in the file https://github.com/jogaudard/INCLINE/blob/datadoc/data_doc/INCLINE_download_cleandata.R.

Table 17: In the data paper google doc


Table 18: 
```{r, echo=FALSE}
knitr::kable(microclimate_dic)
```


<!-- ### -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::kable() -->
<!-- ``` -->

<!-- ### -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::kable() -->
<!-- ``` -->

<!-- ### -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::kable() -->
<!-- ``` -->

<!-- ### -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::kable() -->
<!-- ``` -->

<!-- ### -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::kable() -->
<!-- ``` -->